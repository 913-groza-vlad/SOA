server:
  port: ${SERVER_PORT:8085}

spring:
  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://postgres:5432/medapp}
    username: ${SPRING_DATASOURCE_USERNAME:postgres}
    password: ${SPRING_DATASOURCE_PASSWORD:postgres}
  jpa:
    hibernate:
      ddl-auto: ${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
    open-in-view: false

  security:
    oauth2:
      resourceserver:
        jwt:
          jwk-set-uri: ${SPRING_SECURITY_OAUTH2_RESOURCESERVER_JWT_JWK_SET_URI:http://auth-service:9000/.well-known/jwks.json}

  rabbitmq:
    host: ${RABBITMQ_HOST:rabbitmq}
    port: ${RABBITMQ_PORT:5672}
    username: ${RABBITMQ_USERNAME:guest}
    password: ${RABBITMQ_PASSWORD:guest}

  data:
    redis:
      host: ${REDIS_HOST:redis}
      port: ${REDIS_PORT:6379}

  mail:
    host: ${SMTP_HOST:mailhog}
    port: ${SMTP_PORT:1025}
    username:
    password:
    properties:
      mail:
        smtp:
          auth: false
          starttls.enable: false

management:
  endpoints:
    web:
      exposure:
        include: health,info

notification:
  rabbit:
    queue: appointment-notifications
  websocket:
    application-destination-prefix: /app
    topic-prefix: /topic/notifications

services:
  patient:
    base-url: ${PATIENT_SERVICE_URL:http://patient-service:8081}
  doctor:
    base-url: ${DOCTOR_SERVICE_URL:http://doctor-service:8082}